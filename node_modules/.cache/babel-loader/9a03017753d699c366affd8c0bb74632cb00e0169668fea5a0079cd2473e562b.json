{"ast":null,"code":"import'../Styles/SignUp.css';import{Link,useNavigate}from'react-router-dom';import{useForm}from'react-hook-form';import*as yup from'yup';import{yupResolver}from'@hookform/resolvers/yup';import{createUserWithEmailAndPassword,updateProfile}from'firebase/auth';import{auth}from'../config/firbase';import{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const SignUp=()=>{const navigate=useNavigate();const[errorMessage,setErrorMessage]=useState('');// Redirect if user is already authenticated\nuseEffect(()=>{const authUserString=localStorage.getItem('auth');if(authUserString!==null){navigate('/dashboard');}},[navigate]);const userScheme=yup.object().shape({name:yup.string().required('Name is required'),email:yup.string().email('Invalid email format').required('Email is required'),pass:yup.string().min(6,'Password must be at least 6 characters long').required('Password is required')});const{handleSubmit,register,formState:{errors}}=useForm({resolver:yupResolver(userScheme)});const submitData=async data=>{try{const userCredentials=await createUserWithEmailAndPassword(auth,data.email,data.pass);if(auth.currentUser){await updateProfile(auth.currentUser,{displayName:data.name});const authUser={email:data.email,name:data.name,isAuth:true};localStorage.setItem('auth',JSON.stringify(authUser));navigate('/dashboard');}}catch(err){console.error('Error signing up:',err.message);setErrorMessage(err.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"signup-container\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(submitData),className:\"signup-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Full name\",...register('name')}),errors.name&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:errors.name.message}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\",...register('email')}),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:errors.email.message}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",...register('pass')}),errors.pass&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:errors.pass.message}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Sign Up\"}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:errorMessage})]}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"signin-link\",children:\"Already have an account?\"})]});};","map":{"version":3,"names":["Link","useNavigate","useForm","yup","yupResolver","createUserWithEmailAndPassword","updateProfile","auth","useEffect","useState","jsx","_jsx","jsxs","_jsxs","SignUp","navigate","errorMessage","setErrorMessage","authUserString","localStorage","getItem","userScheme","object","shape","name","string","required","email","pass","min","handleSubmit","register","formState","errors","resolver","submitData","data","userCredentials","currentUser","displayName","authUser","isAuth","setItem","JSON","stringify","err","console","error","message","className","children","onSubmit","type","placeholder","value","to"],"sources":["C:/Users/MSI/Desktop/mentor nation/github deploy/fresh-clone/src/Components/SignUp.tsx"],"sourcesContent":["import '../Styles/SignUp.css';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\nimport * as yup from 'yup';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport { createUserWithEmailAndPassword, updateProfile } from 'firebase/auth';\r\nimport { auth } from '../config/firbase';\r\nimport { useEffect, useState } from 'react';\r\n\r\ninterface UserForm {\r\n    name: string;\r\n    email: string;\r\n    pass: string;\r\n}\r\n\r\nexport const SignUp = () => {\r\n    const navigate = useNavigate();\r\n    const [errorMessage, setErrorMessage] = useState<string>('');\r\n\r\n    // Redirect if user is already authenticated\r\n    useEffect(() => {\r\n        const authUserString = localStorage.getItem('auth');\r\n        if (authUserString !== null) {\r\n            navigate('/dashboard');\r\n        }\r\n    }, [navigate]);\r\n\r\n    const userScheme = yup.object().shape({\r\n        name: yup.string().required('Name is required'),\r\n        email: yup.string().email('Invalid email format').required('Email is required'),\r\n        pass: yup.string().min(6, 'Password must be at least 6 characters long').required('Password is required'),\r\n    });\r\n\r\n    const {\r\n        handleSubmit,\r\n        register,\r\n        formState: { errors },\r\n    } = useForm<UserForm>({\r\n        resolver: yupResolver(userScheme),\r\n    });\r\n\r\n    const submitData = async (data: UserForm) => {\r\n        try {\r\n            const userCredentials = await createUserWithEmailAndPassword(auth, data.email, data.pass);\r\n            if (auth.currentUser) {\r\n                await updateProfile(auth.currentUser, { displayName: data.name });\r\n                const authUser = {\r\n                    email: data.email,\r\n                    name: data.name,\r\n                    isAuth: true,\r\n                };\r\n                localStorage.setItem('auth', JSON.stringify(authUser));\r\n                navigate('/dashboard');\r\n            }\r\n        } catch (err: any) {\r\n            console.error('Error signing up:', err.message);\r\n            setErrorMessage(err.message);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"signup-container\">\r\n            <form onSubmit={handleSubmit(submitData)} className=\"signup-form\">\r\n                <input type=\"text\" placeholder=\"Full name\" {...register('name')} />\r\n                {errors.name && <p className=\"error-message\">{errors.name.message}</p>}\r\n                <input type=\"text\" placeholder=\"Email\" {...register('email')} />\r\n                {errors.email && <p className=\"error-message\">{errors.email.message}</p>}\r\n                <input type=\"password\" placeholder=\"Password\" {...register('pass')} />\r\n                {errors.pass && <p className=\"error-message\">{errors.pass.message}</p>}\r\n                <input type=\"submit\" value=\"Sign Up\" />\r\n                {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\r\n            </form>\r\n            <Link to=\"/login\" className=\"signin-link\">Already have an account?</Link>\r\n        </div>\r\n    );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}